<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" style="height:100%">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">



 
 <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="model.js"></script>
  </head>
  <body style="height:100%">
    <style>
    img{
    max-width:80px;
    max-height:100px;
    }
    td,th{
    width:40px; 
    }
    #heading{
    font-weight:bold;
    }
    </style>
	<div class="container" style="height:100%">
	<h3 style="margin: 15px">Basket</h3>
    <table align="left;" cellpadding="7px;" id="heading" class="table" style="width:100%;">
      <tr>
           <td></td>
           <td style="width:30px;">Product</td>
           <td>Unit</td>
           <td>Unit price</td>
           <td></td>
           <td style="text-align:center;">Quantity</td>
           <td>Price</td>
           <td></td>
      <tr/>
    </table>
  <div style = "overflow-y: scroll;height:60%">
    <form class="form-inline">
      <table align="left;" cellpadding="7px;" class="table">
        <script>
          var basket = readBasket();
          var productDetails = getProductDetails();
          for (var product in productDetails) {
            if (basket[product] > 0) {            
              document.write('       <tr id = "tab_' + product + '">\n');
              document.write('         <td><img src="img/' + productDetails[product]["image"] + '" /></td>\n');
              document.write('         <td>' + productDetails[product]["name"] + '</td>\n');
              document.write('         <td>' + productDetails[product]["units"] + '</td>\n');
              document.write('         <td>&pound;' + productDetails[product]["price"] + '</td>\n');
              document.write('         <td style="width:30px;"><input class="form-control" name="' + product + '" id="' + product + '" type="text" value="' + basket[product] + '" style="width: 50px;" /></td>\n');
              document.write('         <td style="width:60px;"><input name="change' + product + '" type="button" class="btn btn-primary" value="change" onclick="javascript:verifyNumeric(\'' + product + '\', document.getElementById(\'' + product + '\').value); location.href=location.href;"/></td>\n');
              document.write('         <td>&pound;' + (productDetails[product]["price"] * basket[product]).toFixed(2) + '</td>\n');
              document.write('         <td><input name="remove' + product + '" type="button" value="remove product" class="btn btn-danger" onclick="javascript:removeProductFromBasket(\'' + product + '\');location.href=location.href;"/></td>\n');
              document.write('       </tr>\n');
            }
          }
        </script>
      </table>
    </form>
    </div>
	
    <div style="position: fixed; bottom: 20px; left: 20px; right: 0; line-height: 1em">
      <script>
        var totals = calculateTotals();
        document.write('<p>Total ex VAT: ' + '&pound' + parseFloat(totals["totalnovat"]).toFixed(2) +'</p>\n');
        document.write('<p>includes VAT: ' + '&pound' + parseFloat(totals["totalnovat"]).toFixed(2) + '</p>\n');
        document.write('<p>Total inc. VAT: ' + '&pound' + totals["total"] + '</p>\n');
      </script>
      <form>
        <input type="button" name="continue" value="Continue Shopping" class="btn btn-secondary" onclick="window.location.href='shop.html'" />
        <input type="button" name="clearbasket" value="Clear Basket" class="btn btn-light" onclick="javascript:createEmptyBasket();window.location.href='shop.html';" />
        <input type="button" name="order" value="Order" class="btn btn-primary" onclick="javascript:orderFunction();" />
      </form>
    </div>
	</div>
  </body>
</html>
